
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Live Production Display</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #1a1a1a; color: white; padding: 40px; overflow: hidden; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 30px; }
        
        .view-card { 
            background: #2d2d2d; padding: 40px; border-radius: 20px; 
            text-align: center; border: 2px solid #444; transition: all 0.5s ease;
        }
        
        /* Goal Reached Effect */
        .goal-met { background: #1b4332 !important; border-color: #2ecc71 !important; animation: pulse 2s infinite; }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0px rgba(46, 204, 113, 0.4); }
            50% { transform: scale(1.02); box-shadow: 0 0 30px 10px rgba(46, 204, 113, 0.2); }
            100% { transform: scale(1); box-shadow: 0 0 0 0px rgba(46, 204, 113, 0px); }
        }

        .title { font-size: 2.5rem; color: #aaa; text-transform: uppercase; margin-bottom: 10px; }
        .numbers { font-size: 8rem; font-weight: bold; margin: 20px 0; line-height: 1; }
        .current { color: #2ecc71; }
        .goal-met .current { color: #fff; }
        .divider { color: #555; }

        .progress-bg { background: #444; height: 35px; border-radius: 20px; overflow: hidden; margin-top: 20px; }
        .progress-fill { background: #2ecc71; height: 100%; width: 0%; transition: width 1s ease-in-out; }
        .goal-met .progress-fill { background: #fff; }
    </style>
</head>
<body>

<div class="grid">
    <div class="view-card" id="card-1">
        <div class="title" id="out-name-1">Loading...</div>
        <div class="numbers">
            <span class="current" id="out-cur-1">0</span><span class="divider">/</span><span id="out-max-1">0</span>
        </div>
        <div class="progress-bg"><div class="progress-fill" id="out-bar-1"></div></div>
    </div>

    <div class="view-card" id="card-2">
        <div class="title" id="out-name-2">Loading...</div>
        <div class="numbers">
            <span class="current" id="out-cur-2">0</span><span class="divider">/</span><span id="out-max-2">0</span>
        </div>
        <div class="progress-bg"><div class="progress-fill" id="out-bar-2"></div></div>
    </div>
</div>

<script>
    function refreshDisplay() {
        for(let i=1; i<=2; i++) {
            const saved = localStorage.getItem('boxData-' + i);
            if(saved) {
                const data = JSON.parse(saved);
                document.getElementById('out-name-' + i).innerText = data.name;
                document.getElementById('out-cur-' + i).innerText = data.current;
                document.getElementById('out-max-' + i).innerText = data.max;
                
                const percent = Math.min((data.current / data.max) * 100, 100);
                document.getElementById('out-bar-' + i).style.width = percent + "%";

                // Toggle Goal Animation
                const card = document.getElementById('card-' + id=i);
                if(data.isGoal) {
                    card.classList.add('goal-met');
                } else {
                    card.classList.remove('goal-met');
                }
            }
        }
    }
    setInterval(refreshDisplay, 1000);
    window.onload = refreshDisplay;
</script>
</body>
</html>
